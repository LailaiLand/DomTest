<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>DOM me baby</title>
    <link rel="icon" href="#" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <div id="app"></div>
    <script>
      var main = document.getElementById("app");
      var shadowRoot = main.attachShadow({ mode: "open" });

      var table = document.createElement("table");
      var tr1 = document.createElement("tr");
      var tr2 = document.createElement("tr");
      var tr3 = document.createElement("tr");
      var th1 = document.createElement("th");
      var th2 = document.createElement("th");
      var td1 = document.createElement("td");
      var td2 = document.createElement("td");
      var td3 = document.createElement("td");
      var td4 = document.createElement("td");

      th1.textContent = "Substans";
      th2.textContent = "Smak";
      th1.style.border = "2px solid";
      th2.style.border = "2px solid";
      tr1.appendChild(th1);
      tr1.appendChild(th2);

      td1.textContent = "Kake";
      td2.textContent = "Digg";
      td1.style.border = "1px solid";
      td2.style.border = "1px solid";
      tr2.appendChild(td1);
      tr2.appendChild(td2);

      td3.textContent = "Banan";
      td4.textContent = "Ã†sj";
      td3.style.border = "1px solid";
      td4.style.border = "1px solid";
      tr3.appendChild(td3);
      tr3.appendChild(td4);

      table.appendChild(tr1);
      table.appendChild(tr2);
      table.appendChild(tr3);
      table.style.border = "1px solid";
      table.style.width = "100%";

      Array.from(table.children).map((tableChild) => {
        Array.from(tableChild.children).map((tableCell) => {
          tableCell.addEventListener("click", function () {
            alert(`clicked on "${this.textContent}"`);
          });
        });
      });

      
      console.log(table.children);
      shadowRoot.appendChild(table);


      // TEST: tried adding a drag and drop. Need more info, attempt aborted
      // var p = document.createElement("p");
      // p.textContent = "Drag test";
      // p.draggable = "true";
      // p.addEventListener("dragstart", (event) =>
      //   event.dataTransfer.setData("text/plain", "Dragis testis")
      // );
      // var drop = document.createElement("p");
      // drop.style = "height: 50px; width: 200px; border: 1px solid;";
      // drop.addEventListener("dragend", (event) =>{
      //   const data = event.dataTransfer.getData("text/plain");
      //   event.target.textContent = data;
      // });
      // shadowRoot.appendChild(p);
      // shadowRoot.appendChild(drop);
    </script>
  </body>
</html>
